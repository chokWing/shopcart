<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>购物车</title>
    <link rel="stylesheet" type="text/css" href="css/aui.css">
    <link rel="stylesheet" type="text/css" href="css/shopcart.css">

</head>
<body>
<div id="app">
    <div id="cart-top">
        <a href="##" @click="toggle()">{{showFlag?'完成':'编辑'}}</a>
    </div>
    <div id="item-list-wrapper"><!---购物车列表包裹--->
        <!------按商家分类------>
        <div class="item-LTD">
            <div class="item-head">
                <input type="checkbox" class="aui-checkbox check">
                <span class="co-name">澳门葡京旅行社</span>
                <a href="##" class="edit">编辑</a>
            </div>
            <ul class="item-content">
                <li class="list-item">
                    <div class="circle">
                        <input type="checkbox" class="aui-checkbox check">
                    </div>
                    <div class="item-main">
                        <div class="item-img"><a href="#"><img src="images/cart/shopingcart_sg_1.png"></a></div>
                        <div class="item-main-text">
                            <a href="#" class="info" >
                                <div class="flex">
                                <span class="name">
                                    香港海洋公园快闪票快闪票
                                </span>
                                    <div class="price">
                                        <p class="now">mop 640</p>
                                        <del class="old">mop 650</del>
                                    </div>
                                </div>
                                <div class="flex desc">
                                    <p> 门票：一日票+来回船票
                                        成人票</p>
                                    <span class="quantity">x 1</span>
                                </div>
                            </a>
                            <div class="info2 flex">
                                <div class="count">
                                    <div class="flex "><span class="decrease">-</span><input type="number"
                                                                                             value="1" class="num"><span
                                            class="add">+</span></div>
                                    <div class="desc">
                                        <p> 门票：一日票+来回船票
                                            成人票</p>
                                    </div>
                                </div>
                                <div class="del">删除</div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="list-item">
                    <div class="circle">
                        <input type="checkbox" class="aui-checkbox check">
                    </div>
                    <div class="item-main">
                        <div class="item-img"><a href="#"><img src="images/cart/shopingcart_sg_2.png"></a></div>
                        <div class="item-main-text">
                            <a href="#" class="info">
                                <div class="flex">
                                <span class="name">
                                    新濠影汇童梦天地
                                </span>
                                    <div class="price">
                                        <p class="now">mop 135</p>
                                        <del class="old">mop 145</del>
                                    </div>
                                </div>
                                <div class="flex desc">
                                    <p>门票：亲子票（1大1小）
                                        周末</p>
                                    <span class="quantity">x 1</span>
                                </div>
                            </a>
                            <div class="info2 flex">
                                <div class="count">
                                    <div class="flex">
                                        <span class="decrease">-</span>
                                        <input type="number" value="1" class="num">
                                        <span class="add">+</span>
                                    </div>
                                    <div class="desc">
                                        <p> 门票：一日票+来回船票
                                            成人票</p>
                                    </div>
                                </div>
                                <div class="del">删除</div>
                            </div>
                        </div>

                    </div>
                </li>
            </ul>
        </div>
        <div class="item-LTD">
            <div class="item-head">
                <input type="checkbox" class="aui-checkbox check">
                <span class="co-name">澳门葡京旅行社</span>
                <a href="##" class="edit">编辑</a>
            </div>
            <ul class="item-content">
                <li class="list-item">
                    <div class="circle">
                        <input type="checkbox" class="aui-checkbox check">
                    </div>
                    <div class="item-main">
                        <div class="item-img"><a href="#"><img src="images/cart/shopingcart_sg_1.png"></a></div>
                        <div class="item-main-text">
                            <a href="#" class="info">
                                <div class="flex">
                                <span class="name">
                                    香港海洋公园快闪票快闪票
                                </span>
                                    <div class="price">
                                        <p class="now">mop 640</p>
                                        <del class="old">mop 650</del>
                                    </div>
                                </div>
                                <div class="flex desc">
                                    <p> 门票：一日票+来回船票
                                        成人票</p>
                                    <span class="quantity">x 1</span>
                                </div>
                            </a>
                            <div class="info2 flex">
                                <div class="count">
                                    <div class="flex "><span class="decrease">-</span><input type="number"
                                                                                             value="1" class="num"><span
                                            class="add">+</span></div>
                                    <div class="desc">
                                        <p> 门票：一日票+来回船票
                                            成人票</p>
                                    </div>
                                </div>
                                <div class="del">删除</div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="list-item">
                    <div class="circle">
                        <input type="checkbox" class="aui-checkbox check">
                    </div>
                    <div class="item-main">
                        <div class="item-img"><a href="#"><img src="images/cart/shopingcart_sg_2.png"></a></div>
                        <div class="item-main-text">
                            <a href="#" class="info">
                                <div class="flex">
                                <span class="name">
                                    新濠影汇童梦天地
                                </span>
                                    <div class="price">
                                        <p class="now">mop 135</p>
                                        <del class="old">mop 145</del>
                                    </div>
                                </div>
                                <div class="flex desc">
                                    <p>门票：亲子票（1大1小）
                                        周末</p>
                                    <span class="quantity">x 1</span>
                                </div>
                            </a>
                            <div class="info2 flex">
                                <div class="count">
                                    <div class="flex">
                                        <span class="decrease">-</span>
                                        <input type="number" value="1" class="num">
                                        <span class="add">+</span>
                                    </div>
                                    <div class="desc">
                                        <p> 门票：一日票+来回船票
                                            成人票</p>
                                    </div>
                                </div>
                                <div class="del">删除</div>
                            </div>
                        </div>

                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script src="js/shopcart.js"></script>
<script>
    let itemLTD = document.getElementsByClassName('item-LTD');
    for (let i = 0; i < itemLTD.length; i++) {
        let edit_a = itemLTD[i].getElementsByClassName('edit')[0];
        edit_a.onclick = function () {
            this.innerText = this.innerText === '编辑' ? '完成' : '编辑';
            let pannel = itemLTD[i].getElementsByClassName('info');
            if (this.innerText === '完成') {
                for (let j = 0; j < pannel.length; j++) {
                    pannel[j].style.display = 'none';
                    pannel[j].nextElementSibling.style.display = 'flex';
                }
            } else {
                for (let j = 0; j < pannel.length; j++) {
                    pannel[j].style.display = 'block';
                    pannel[j].nextElementSibling.style.display = 'none';
                }
            }
        }
    }
    //顶部编辑
    let topEdit =document.getElementById('cart-top').getElementsByTagName('a')[0];
    topEdit.onclick=function () {
        for (let i = 0; i < itemLTD.length; i++) {
            let edit_a = itemLTD[i].getElementsByClassName('edit')[0];
            edit_a.onclick();
            if(topEdit.childNodes[0].nodeValue==='编辑'){
                edit_a.style.display='none';
            }else{
                edit_a.style.display='flex';
            }
        }
       // alert(topEdit.childNodes[0].nodeValue);
    }

</script>
</body>
</html>